<div *ngIf="this.playMacro">
  <form #playMacroForm="ngForm" (ngSubmit)="onPlayMacro(playMacroForm)">
    <div class="play-con">
      <h4 class="con-header">Play Macro</h4>
      <div *ngIf="!macroListFlag">
        <mat-form-field>
          <mat-label>Select Macro Name</mat-label>
          <mat-select name="selPlayMacro" id="selPlayMacro" [(ngModel)]="selPlayMacro" required>
            <mat-option *ngFor="let macro of this.macroList" [value]="macro">{{ macro }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div *ngIf="macroListFlag">
        <span>No Macros Available.</span>
      </div>
    </div>
    <br>
    <br>
    <div class="d-flex flex-column align-items-end">
      <span>
        <button *ngIf="!macroListFlag" type="submit" [disabled]="!playMacroForm.valid" class="dlt-button dlt-button-primary m-1">Play</button>
        <button class="dlt-button dlt-button-primary m-1" mat-dialog-close>Cancel</button>
      </span>
    </div>
  </form>
</div>

<div *ngIf="this.recMacro">
  <form #recordMacroForm="ngForm" (ngSubmit)="onRecordMacro(recordMacroForm)">
    <h4 class="con-header">Record Macro</h4>
    <mat-form-field class="input-record" appearance="outline">
      <mat-label>Enter Macro Name</mat-label>
      <input matInput type="text" name="txtRecordMacro" id="txtRecordMacro" [(ngModel)]="txtRecordMacro" required>
    </mat-form-field>
    <!-- <span class="chkSimulate"><br>
        <br>
        <mat-checkbox name="chkboxSimulateDelay" id="chkboxSimulateDelay"
        [(ngModel)]="chkboxSimulateDelay">Simulate host Delay
      </mat-checkbox>
    </span> -->
    <div class="d-flex flex-column align-items-end">
      <span>
        <button type="submit" [disabled]="!recordMacroForm.valid"
          class="dlt-button dlt-button-primary m-1">Record</button>
        <button class="dlt-button dlt-button-primary m-1" mat-dialog-close>Cancel</button>
      </span>
    </div>
  </form>
</div>

<div *ngIf="this.renameMacro">

  <form #renameMacroForm="ngForm" (ngSubmit)="onRenameMacro(renameMacroForm)">
    <h4 class="con-header">Record Macro</h4>
    <h5>{{MacroExitsMsg}}</h5>
    <mat-form-field class="input-record" appearance="outline">
      <mat-label>Enter New Macro Name</mat-label>
      <input matInput type="text" name="txtRenameMacro" id="txtRenameMacro" [(ngModel)]="txtRenameMacro" required>
    </mat-form-field>
    <div class="d-flex flex-column align-items-end">
      <span>
        <button type="submit" [disabled]="!renameMacroForm.valid"
          class="dlt-button dlt-button-primary m-1">Save</button>
      </span>
    </div>
  </form>
</div>

<div *ngIf="this.viewMacro">
  <form #viewMacroForm="ngForm" (ngSubmit)="onViewMacro(viewMacroForm)">
    <div>
      <h4 class="con-header">View Macro</h4>
      <div *ngIf="!macroListFlag">
        <mat-form-field>
          <mat-label>Select Macro Name</mat-label>
          <mat-select id="selViewMacro" name="selViewMacro" [(ngModel)]="selViewMacro" required>
            <mat-option *ngFor="let macro of this.macroList" [value]="macro">{{ macro }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div *ngIf="macroListFlag">
        <span>No Macros Available.</span>
      </div>
    </div>
    <div class="d-flex flex-column align-items-end">
      <span>
        <button *ngIf="!macroListFlag" type="submit" [disabled]="!viewMacroForm.valid" class="dlt-button dlt-button-primary m-1">View</button>
        <button class="dlt-button dlt-button-primary m-1" mat-dialog-close>Cancel</button>
      </span>
    </div>
    <div id="divViewMacro" *ngIf="viewMacroFlag" style="height:300px;overflow:scroll">
      <!-- <h5>Name : {{selectedMacroObj.name}} </h5> -->
      <!-- <h5>Steps : </h5> -->
      <div *ngFor="let step of selectedMacroObj.steps;let i = index">
        <div class="ml-3">Step : {{i+1}} </div>
        <div class="ml-5">Key : {{step.sendKey}}</div>
        <div *ngFor="let inputField of step.fields">
          <div class="ml-5">Fields : {{inputField.name}}</div>
          <div class="ml-5">Value : {{inputField.value}}</div>
        </div>
        <hr>
      </div>
    </div>


  </form>
</div>

<div *ngIf="this.delMacro" class="container">
  <form #deleteMacroForm="ngForm" (ngSubmit)="onDeleteMacro(deleteMacroForm)">
    <div>
      <h4 class="con-header">Delete Macro</h4>
      <div *ngIf="!macroListFlag">
        <mat-form-field>
          <mat-label>Select Macro Name</mat-label>
          <mat-select id="selDeleteMacro" name="selDeleteMacro" [(ngModel)]="selDeleteMacro" required>
            <mat-option *ngFor="let macro of this.macroList" [value]="macro">
              {{macro}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div *ngIf="macroListFlag">
        <span>No Macros Available.</span>
      </div>
    </div>
    <div class="d-flex flex-column align-items-end">
      <span>
        <button *ngIf="!macroListFlag" type="submit" [disabled]="!deleteMacroForm.valid"
          class="dlt-button dlt-button-primary m-1">Delete</button>
        <button class="dlt-button dlt-button-primary m-1" mat-dialog-close>Cancel</button>
      </span>
    </div>
  </form>
</div>